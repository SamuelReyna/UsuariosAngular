<nav class="bg-slate-800 text-white shadow-lg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex items-center justify-between h-16">
      <!-- Logo / Inicio -->
      <div class="flex items-center">
        <button
          (click)="onHome()"
          class="flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
          </svg>
          <span>Mi App</span>
        </button>
      </div>

      <!-- Desktop Menu -->
      <div class="hidden md:flex items-center space-x-4">
        <button
          (click)="onUsuarios()"
          class="flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="20"
            height="20"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
            <circle cx="9" cy="7" r="4" />
          </svg>
          <span>Usuarios</span>
        </button>

        <button
          (click)="onCargaMasiva()"
          class="flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600 transition-colors"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
          >
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
            <polyline points="17 8 12 3 7 8" />
            <line x1="12" y1="3" x2="12" y2="15" />
          </svg>
          <span>Carga Masiva</span>
        </button>
      </div>

      <!-- Usuario -->
      <div
        *ngIf="user"
        class="relative hidden md:block ml-4"
        (mouseenter)="openUserMenu()"
        (mouseleave)="closeUserMenu()"
      >
        <div class="flex items-center gap-3 cursor-pointer select-none">
          <div class="text-right hidden sm:block">
            <p class="text-sm font-medium text-slate-200 leading-none">{{ user }}</p>
            <p class="text-xs text-slate-400">Conectado</p>
          </div>

          <img
            [src]="userImage || 'https://ui-avatars.com/api/?name=' + user"
            alt="Foto de perfil"
            class="w-10 h-10 rounded-full border border-slate-600 shadow-md object-cover"
          />
        </div>

        <!-- Dropdown -->
        <div
          *ngIf="isUserMenuOpen"
          class="absolute right-0 mt-3 w-44 bg-slate-800 border border-slate-700 rounded-lg shadow-lg py-2 z-50 animate-fade"
        >
          <button
            (click)="onPerfil()"
            class="w-full text-left px-4 py-2 text-sm text-slate-200 hover:bg-slate-700"
          >
            Mi Perfil
          </button>

          <button
            (click)="onConfig()"
            class="w-full text-left px-4 py-2 text-sm text-slate-200 hover:bg-slate-700"
          >
            Configuración
          </button>

          <div class="border-t border-slate-700 my-1"></div>

          <button
            (click)="onLogout()"
            class="w-full text-left px-4 py-2 text-sm text-red-400 hover:bg-red-600/20"
          >
            Cerrar Sesión
          </button>
        </div>
      </div>

      <!-- Mobile Menu Button -->
      <div class="md:hidden ml-3">
        <button (click)="toggleMenu()" class="p-2 rounded-lg hover:bg-slate-700 transition-colors">
          <svg
            *ngIf="!isMenuOpen"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="3" y1="12" x2="21" y2="12" />
            <line x1="3" y1="6" x2="21" y2="6" />
            <line x1="3" y1="18" x2="21" y2="18" />
          </svg>

          <svg
            *ngIf="isMenuOpen"
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
          >
            <line x1="18" y1="6" x2="6" y2="18" />
            <line x1="6" y1="6" x2="18" y2="18" />
          </svg>
        </button>
      </div>
    </div>

    <!-- Mobile Menu -->
    <div *ngIf="isMenuOpen" class="md:hidden pb-4 space-y-2">
      <button
        (click)="onUsuarios()"
        class="w-full flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600"
      >
        Usuarios
      </button>

      <button
        (click)="onCargaMasiva()"
        class="w-full flex items-center gap-2 px-4 py-2 rounded-lg bg-slate-700 hover:bg-slate-600"
      >
        Carga Masiva
      </button>
    </div>
  </div>
</nav>
